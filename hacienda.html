<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gesti√≥n de Hacienda - Inventario</title>
    <link rel="icon" type="image/png" href="img/logo_municipal.png">
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body id="hacienda-page">

    <header class="main-header">
        <div class="header-left">
            <a href="index.html" class="button back-link" style="margin-bottom: 0;"><i class="fas fa-arrow-left"></i> Volver</a>
        </div>
        <div class="header-center">
            <img src="img/logo_municipal.png" alt="Logo Institucional" class="logo-img">
        </div>
        <div class="header-right">
            <div class="theme-selector-container">
                <label for="theme-selector"><i class="fas fa-palette"></i></label>
                <select id="theme-selector">
                    <option value="light">‚òÄÔ∏è Claro</option>
                    <option value="dark-mode">üåô Oscuro</option>
                    <option value="night-mode">ü¶â Nocturno</option>
                </select>
            </div>
        </div>
    </header>

    <div class="main-wrapper" style="padding: 20px;">
        <div class="content-header" style="margin-bottom: 20px;">
            <h1><i class="fas fa-landmark"></i> M√≥dulo de Hacienda</h1>
            <button id="add-hacienda-item-btn" class="button"><i class="fas fa-plus"></i> Agregar Bien (Hacienda)</button>
        </div>

        <div class="modal-content" style="max-width: 95%; margin: auto;">
            <h2><i class="fas fa-list-alt"></i> Inventario</h2>
            <div id="hacienda-table-container">
                <p>Cargando inventario...</p>
            </div>
        </div>
    </div>

    <div id="modal-hacienda-item" class="modal-overlay" style="display: none;">
        <div class="modal-content" style="max-width: 800px;">
            <button class="close-modal">‚úñ</button>
            <h2><i class="fas fa-landmark"></i> Formulario de Carga de Bienes</h2>
            <form id="form-hacienda-item" enctype="multipart/form-data">
                <fieldset style="border: 1px solid var(--color-borde); padding: 15px; border-radius: var(--radio-borde); margin-bottom: 20px;">
                    <legend style="padding: 0 10px; font-weight: 600;">Informaci√≥n General del Bien</legend>
                    <div class="form-row search-container">
                        <label for="area-search-input-hacienda"><strong>√Årea de Destino *</strong></label>
                        <input type="text" id="area-search-input-hacienda" class="form-control" placeholder="Escriba para buscar un √°rea..." autocomplete="off" required>
                        <input type="hidden" name="node_id" id="node_id_hacienda" required>
                        <div id="area-search-results-hacienda" class="search-results"></div>
                    </div>
                    <div class="form-row"><label for="form-name">Nombre *</label><input type="text" id="form-name" name="name" placeholder="Nombre del √≠tem" required /></div>
                    <div class="form-row"><label for="form-quantity">Cantidad *</label><input type="number" id="form-quantity" name="quantity" placeholder="Cantidad" required value="1" /></div>
                    <div class="form-row"><label for="form-category">Categor√≠a *</label><select id="form-category" name="category" required></select></div>
                    <div class="form-row"><label for="form-status">Estado *</label><select id="form-status" name="status" required></select></div>
                    <div class="form-row"><label for="form-description">Descripci√≥n</label><textarea id="form-description" name="description" placeholder="Descripci√≥n"></textarea></div>
                    <div class="form-row"><label for="form-encargado">Responsable</label><input type="text" id="form-encargado" name="encargado" placeholder="Nombre del responsable" /></div>
                </fieldset>
                <fieldset style="border: 1px solid var(--color-borde); padding: 15px; border-radius: var(--radio-borde); margin-bottom: 20px;">
                    <legend style="padding: 0 10px; font-weight: 600;">Datos Administrativos y de Compra</legend>
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px;">
                        <div class="form-row"><label for="form-incorporacion">Fecha de Incorporaci√≥n</label><input type="date" id="form-incorporacion" name="incorporacion" /></div>
                        <div class="form-row"><label for="form-valor">Valor</label><input type="number" step="0.01" id="form-valor" name="valor" placeholder="Ej: 150000.50" /></div>
                        <div class="form-row"><label for="form-garantia">Garant√≠a</label><input type="text" id="form-garantia" name="garantia" placeholder="Ej: 12 meses, 1 a√±o" /></div>
                        <div class="form-row"><label for="form-tipo-compra">Tipo de Compra</label><input type="text" id="form-tipo-compra" name="tipo_compra" placeholder="Ej: Compra Directa, Licitaci√≥n" /></div>
                        <div class="form-row"><label for="form-proveedor">Proveedor</label><input type="text" id="form-proveedor" name="proveedor" placeholder="Nombre del proveedor" /></div>
                        <div class="form-row"><label for="form-cuit">CUIT del Proveedor</label><input type="text" id="form-cuit" name="cuit" placeholder="Ej: 30-12345678-9" /></div>
                        <div class="form-row"><label for="form-expediente">Expediente</label><input type="text" id="form-expediente" name="expediente" /></div>
                        <div class="form-row"><label for="form-numero-expediente">N√∫mero de Expediente</label><input type="text" id="form-numero-expediente" name="numero_expediente" /></div>
                        <div class="form-row"><label for="form-codigo-comprobante">C√≥digo de Comprobante</label><input type="text" id="form-codigo-comprobante" name="codigo_comprobante" /></div>
                        <div class="form-row"><label for="form-tipo-comprobante">Tipo de Comprobante</label><input type="text" id="form-tipo-comprobante" name="tipo_comprobante" placeholder="Ej: Factura A, Recibo" /></div>
                        <div class="form-row"><label for="form-numero-comprobante">N√∫mero de Comprobante</label><input type="text" id="form-numero-comprobante" name="numero_comprobante" /></div>
                    </div>
                </fieldset>
                <fieldset style="border: 1px solid var(--color-borde); padding: 15px; border-radius: var(--radio-borde);">
                    <legend style="padding: 0 10px; font-weight: 600;">Archivos Adjuntos</legend>
                    <div class="form-row">
                        <label for="form-itemImages">Im√°genes (selecci√≥n m√∫ltiple)</label>
                        <input type="file" id="form-itemImages" name="itemImages[]" accept="image/*" multiple />
                        <div id="image-preview-container" style="display: flex; flex-wrap: wrap; gap: 10px; margin-top: 15px;"></div>
                    </div>
                </fieldset>
                <div class="form-row" style="justify-content: flex-end; flex-direction: row; gap: 10px; margin-top: 20px;">
                    <button type="button" class="button" id="cancel-hacienda-btn">Cancelar</button>
                    <button type="submit" class="button">Guardar √çtem</button>
                </div>
            </form>
        </div>
    </div>

    <footer class="page-footer">
        <img src="img/dev_logo.png" alt="Logo Desarrollador" class="dev-logo">
        <span>Aplicaci√≥n de Inventario Municipal.</span>
    </footer>
    
    <script src="js/hacienda.js" type="module"></script>
    <script src="js/theme-switcher.js"></script>
</body>
</html>