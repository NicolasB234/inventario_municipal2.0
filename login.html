<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Iniciar Sesión / Registrarse</title>
    <link rel="icon" type="image/png" href="img/logo_municipal.png">
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body id="login-page">
    <header class="main-header">
        <div class="header-left"></div>
        <div class="header-center">
            <img src="img/logo_municipal.png" alt="Logo Institucional" class="logo-img">
        </div>
        <div class="header-right">
            <div class="theme-selector-container">
                <label for="theme-selector"><i class="fas fa-palette"></i></label>
                <select id="theme-selector">
                    <option value="light">☀️ Claro</option>
                    <option value="dark-mode">🌙 Oscuro</option>
                    <option value="night-mode">🦉 Nocturno</option>
                </select>
            </div>
        </div>
    </header>

    <div class="auth-container">
        <div id="login-section" class="form-section active">
            <h2>Iniciar Sesión</h2>
            <form id="login-form">
                <div class="form-row">
                    <input type="text" id="login-username" name="username" placeholder="Usuario" required autocomplete="username">
                </div>
                <div class="form-row">
                    <input type="password" id="login-password" name="password" placeholder="Contraseña" required autocomplete="current-password">
                </div>
                <div class="form-row">
                    <button id="login-btn" type="button">Iniciar Sesión</button>
                </div>
            </form>
            <p class="message" id="login-message"></p>
            <button class="toggle-form" data-target="register-section">¿No tienes cuenta? Regístrate aquí</button>
        </div>
        <div id="register-section" class="form-section">
            <h2>Registrarse</h2>
            <form id="register-form">
                <div class="form-row">
                    <input type="text" id="register-username" name="username" placeholder="Usuario" required autocomplete="username">
                </div>
                 <div class="form-row">
                    <input type="password" id="register-password" name="password" placeholder="Contraseña" required autocomplete="new-password">
                </div>
                <div class="form-row search-container">
                    <input type="text" id="area-search-input" name="area-search" placeholder="Escriba para buscar su área..." autocomplete="off" required>
                    <input type="hidden" id="register-area-id" name="area_id">
                    <div id="area-search-results" class="search-results"></div>
                </div>
                <div class="form-row" style="text-align: left; display: flex; align-items: center; gap: 10px;">
                    <input type="checkbox" id="register-is-admin" name="is_admin" value="1" style="width: auto;">
                    <label for="register-is-admin" style="margin: 0;">Es Jefe de Área</label>
                </div>
                <div class="form-row">
                    <button id="register-btn" type="button">Registrarse</button>
                </div>
            </form>
            <p class="message" id="register-message"></p>
            <button class="toggle-form" data-target="login-section">¿Ya tienes cuenta? Inicia sesión aquí</button>
        </div>
    </div>
    <footer class="page-footer">
        <span>Desarrollado por...</span>
    </footer>
    <script type="module" src="js/script.js"></script>
    <script src="js/theme-switcher.js"></script>
</body>
</html>