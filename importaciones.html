<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gesti√≥n de Importaciones - Inventario</title>
    <link rel="icon" type="image/png" href="img/icono_municipal.png">
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body id="importaciones-page">

    <header class="main-header" style="position: sticky; top: 0; left: 0; right: 0; width: 100%; z-index: 1100;">

        <div class="header-left">
            <button aria-label="Menu" class="header-btn" id="sidebar-toggle-btn">
                <i class="fas fa-bars"></i>
            </button>

            <button aria-label="Notificacion" class="not-button" id="notification-bell-btn">
                <i class="fas fa-bell"></i>
                <span class="notification-counter" id="notification-counter">0</span>
            </button>

            <div class="header-actions" style="position:relative;">
                <button id="header-actions-btn" class="header-btn" aria-haspopup="true" aria-expanded="false" title="Acciones de archivos">
                    <i class="fas fa-file"></i>
                </button>
               <div id="header-actions-menu" class="dropdown-menu" style="display:none;">
<button id="import-btn-header" class="button"><i class="fas fa-file-import"></i> Importar XLSX</button>

<a href="importaciones.html" class="button"><i class="fas fa-tasks"></i> Gestionar Importaciones</a>
<input type="file" id="xlsx-file-input-header" ... />
<button id="export-xlsx-header" class="button"><i class="fas fa-file-export"></i> Exportar XLSX</button>
<button id="export-pdf-header" class="button"><i class="fas fa-file-pdf"></i> PDF INFORME</button>
</div>
            </div>

        </div>
        <div class="header-center">
            <img src="img/logo_municipal.png" alt="Logo Municipalidad" class="logo-img">
        </div>
        <div class="header-right" id="header-right-container">
            <div class="theme-selector-container">
                <label for="theme-selector"><i class="fas fa-palette"></i></label>
                <select id="theme-selector">
                    <option value="light">‚òÄÔ∏è Claro</option>
                    <option value="dark-mode">üåô Oscuro</option>
                    <option value="night-mode">ü¶â Nocturno</option>
                </select>
            </div>
        </div>
    </header>

    <div class="container" style="padding-top: 60px;"> 
        <main class="content">
            <a href="index.html" class="button back-link"><i class="fas fa-arrow-left"></i> Volver al Inventario</a>
            <h1>Gesti√≥n de Importaciones Pendientes</h1>

            <div id="batches-list-container">
                <h2>Lotes de Importaci√≥n Pendientes</h2>
                <div class="table-responsive">
                    <table class="inventory-table" style="width: 100%;">
                        <thead>
                            <tr>
                                <th>Usuario</th>
                                <th>√Årea</th>
                                <th>Fecha de Subida</th>
                                <th>N¬∞ de √çtems</th>
                                <th>Acciones</th>
                            </tr>
                        </thead>
                        <tbody id="batches-list-body">
                            </tbody>
                    </table>
                </div>
            </div>

            <div id="batch-detail-container" style="display:none;">
                <h2 id="batch-detail-title">Detalle</h2>
                <div id="batch-actions-admin" style="display:none; margin-bottom: 20px; gap: 10px;">
                    <button id="approve-batch-btn" class="button approve-btn"><i class="fas fa-check"></i> Aprobar e Importar </button>
                    <button id="delete-batch-btn" class="button reject-btn"><i class="fas fa-trash"></i> Rechazar y Eliminar</button>
                    <button id="back-to-batches-btn" class="button"><i class="fas fa-arrow-left"></i> Volver</button>
                </div>
                 <div id="batch-actions-user" style="display:none; margin-bottom: 20px;">
                    <p>Tu lote est√° pendiente de revisi√≥n. Podr√°s verlo aqu√≠ una vez aprobado o si es rechazado.</p>
                    <button id="back-to-batches-btn-user" class="button"><i class="fas fa-arrow-left"></i> Volver</button>
                </div>
                
                <div class="table-responsive">
                    <table class="inventory-table" id="staging-items-table" style="width: 100%;">
                        <thead>
                            <tr>
                                <th id="admin-actions-header" style="display:none;">Acciones</th>
                                
                                <th>C√≥digo √çtem</th>
                                <th>Nombre</th>
                                <th>√Årea</th>
                                <th>Cantidad</th>
                                <th>Categor√≠a</th>
                                <th>Descripci√≥n</th>
                                <th>Estado</th>
                                <th>Responsable</th>
                                <th>Incorporaci√≥n</th>
                            </tr>
                        </thead>
                        <tbody id="staging-items-body">
                            </tbody>
                    </table>
                </div>
            </div>
        </main>
    </div>
    
    <footer class="page-footer">
        <img src="img/dev_logo.png" alt="Logo" class="dev-logo">
        <span>Aplicaci√≥n de Inventario Municipal.</span>
    </footer>
    
    <script type="module" src="js/importaciones.js"></script>
    <script src="js/theme-switcher.js" defer></script>
</body>
</html>